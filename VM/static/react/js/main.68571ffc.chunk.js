(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{132:function(e,t,a){e.exports=a(168)},137:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(35),i=a.n(o),c=(a(137),a(47)),l=a(6),s=a.n(l),u=a(13),m=a(10),p=a(98),d=a(11),f=a(213),b=a(57),g=a(194),N=a(191);function v(){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/grabFakeUser",{method:"GET",headers:{"Content-Type":"application/json"}}).catch((function(e){return console.log("Error:",e),!1}));case 2:if(!((t=e.sent).status>=200&&t.status<400)){e.next=11;break}return e.next=6,t.json();case 6:a=e.sent,console.log(a),localStorage.userId=a.id,e.next=11;break;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/isValidUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:localStorage.userId})}).catch((function(e){return console.log("Error:",e),!1}));case 2:return t=e.sent,e.abrupt("return",200===t.status);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){var a=e;return a=(a=(a=a.trim()).replace(/[^A-Za-z_\s0-9]/g,"")).replace(/^[0-9]/,"_"+a[0]),a="class"===t?a.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return e.toUpperCase()})).replace(/\s+/g,""):a.replace(/[\s]/g,"_")}a(139);var y=function(e){e.apiName;var t=e.setApiName,a=e.setApiNameOnClick,o=Object(N.a)("addApi"),i=Object(n.useState)(""),c=Object(m.a)(i,2),l=c[0],s=c[1];return r.a.createElement("div",{className:"addApi"},r.a.createElement(f.a,{className:"addApiLabel",htmlFor:o},"Create a new API"),r.a.createElement("input",{id:o,className:"addApiTextfield",value:l,onChange:function(e){s(e.target.value)},placeholder:"Enter your API name",required:!0}),r.a.createElement(g.a,{className:"addApiButton",onClick:function(){var e=x(l);t(e),a(e)}}," Start Building "))},j=(a(140),function(e){var t=e.apiName,a=e.setApiName,n=e.setApiNameOnClick;return r.a.createElement("div",null,r.a.createElement("header",{className:"stepOneHeader"},r.a.createElement(f.a,{className:"stepOneLabel"},"Welcome to API Builder")),r.a.createElement("div",{className:"stepOne"},r.a.createElement(b.a,{src:"static/react/images/step_1.png",alt:"Step One",width:"30%"}),r.a.createElement("div",{className:"stepOneAddApi"},r.a.createElement(y,{apiName:t,setApiName:a,setApiNameOnClick:n}))))}),A=function(e){var t=e.apiName,a=e.setApiName,n=e.setApiNameOnClick;return r.a.createElement("div",null,r.a.createElement(j,{apiName:t,setApiName:a,setApiNameOnClick:n}))},w=a(205),k=a(219),C=(a(141),function(e){var t=e.setApiNameOnClick,a=e.setApiName,n=e.apiName;Object(w.a)("https://static2.sharepointonline.com/files/fabric/assets/icons/");return r.a.createElement("header",{className:"viewApiHeader"},r.a.createElement("div",{className:"viewApiHeadDiv"},r.a.createElement(f.a,{className:"viewApiHeaderLabel"},r.a.createElement("span",{className:"viewApiHeaderLabelSpan"},n)),r.a.createElement(k.a,{styles:{root:{marginTop:"auto",marginLeft:"10px"},icon:{fontSize:"30px"}},iconProps:{iconName:"Edit"},title:"Edit",onClick:function(){var e=prompt("New Api Name");if(null!==e){var n=x(e);a(n),t(n)}},ariaLabel:"Edit"})))}),R=a(204),I=a(211),G=a(215),S=function(e){var t=e.onRouteGroupDelete,a=e.setRGName,n=e.setId,o=e.id,i=e.RGName,c=e.data,l=e.setData,s=e.showModal;Object(w.a)("https://static2.sharepointonline.com/files/fabric/assets/icons/");var u={items:[{key:"editRG",text:"Edit Route Group",iconProps:{iconName:"Edit"},onClick:function(){m()}},{key:"deleteRG",text:"Delete Route Group",iconProps:{iconName:"Delete"},onClick:function(){t(i)}}],directionalHintFixed:!0},m=function(){l(c),a(i),n(o),s()};return r.a.createElement("div",null,r.a.createElement(I.a,{tokens:{childrenGap:8},styles:{root:{flexDirection:"row"}}},r.a.createElement(R.a,{"aria-label":"Basic horizontal card",styles:{root:{width:"-webkit-fill-available",maxWidth:"none",justifyContent:"space-between",marginTop:"15px",marginBottom:"15px"}},horizontal:!0,tokens:{childrenMargin:12}},r.a.createElement(R.a.Item,null,r.a.createElement(G.a,{styles:{root:{fontSize:"20px",cursor:"pointer"}},onClick:m},i)),r.a.createElement(k.a,{menuProps:u,styles:{root:{marginTop:"auto",marginBottom:"auto",marginRight:"5px"},icon:{fontSize:"20px"}},title:"Options",ariaLabel:"Options"}))))},D=a(217),L=a(3),P=a(212),B=a(100),T=a(206),M=(a(142),function(e){var t=e.id,a=e.name,o=e.type,i=e.deleteAttributeButtonOnClick,c=e.onChangeAttribute,l=e.disabled;Object(w.a)("https://static2.sharepointonline.com/files/fabric/assets/icons/");var s=Object(n.useState)(a),u=Object(m.a)(s,2),p=u[0],d=u[1],f=Object(n.useState)(o),b=Object(m.a)(f,2),g=b[0],N=b[1];Object(n.useEffect)((function(){d(a)}),[a]);var v={defaultSelectedKey:o};""===o&&(v={});return r.a.createElement("div",{className:"attributeListItemMainDiv"},r.a.createElement("input",{type:"text",className:"attributeListItemInput",name:"attributeName",disabled:l,placeholder:"Enter Attribute Name",value:p,onChange:function(e){d(e.target.value),c(t,e.target.value,g)}}),r.a.createElement("div",{className:"attributeListItemDropdownDiv"},r.a.createElement(T.a,Object.assign({placeholder:"Type"},v,{options:[{key:"number",text:"number"},{key:"decimal",text:"decimal"},{key:"word(s)",text:"word(s)"},{key:"true / false",text:"true / false"},{key:"date and time",text:"date and time"}],styles:{dropdown:{width:300,fontSize:"20px"}},onChange:function(e,a){N(a.key),c(t,p,a.key)},disabled:l})),r.a.createElement(k.a,{iconProps:{iconName:"Delete"},styles:{icon:{fontSize:"20px"}},title:"Delete",ariaLabel:"Delete",disabled:l,onClick:function(e){i(t)}})))}),F=(a(77),function(e){var t=e.attributeListItemArr,a=e.addAttributeButtonOnClick,n=e.deleteAttributeButtonOnClick,o=e.onChangeAttribute,i=Object.keys(t).map((function(e){var a=t[e].name,i=t[e].type;return r.a.createElement(M,{id:e,name:a,type:i,onChangeAttribute:o,deleteAttributeButtonOnClick:n,disabled:!1})}));return r.a.createElement("div",null,r.a.createElement("div",{style:{overflowY:"scroll",maxHeight:"300px"}},r.a.createElement(M,{name:"id",type:"number",disabled:!0}),i),r.a.createElement("div",{className:"modalAddNewAttributeButtonDiv"},r.a.createElement(g.a,{className:"modalAddNewAttributeButton",onClick:a,text:"+ Attribute",allowDisabledFocus:!0})))}),H=a(24),J=a.n(H),z={iconName:"Cancel"},W=function(e){var t=e.id,a=e.data,o=e.RGName,i=e.hideModal,l=e.isModalOpen,p=e.onRouteGroupNameChange;Object(w.a)("https://static2.sharepointonline.com/files/fabric/assets/icons/");var d=function(e){var t=e.map((function(e){return Number(e)}));return Math.max.apply(Math,Object(c.a)(t))},f=Object(n.useState)(Math.max(Object.keys(a))+1),b=Object(m.a)(f,2),v=b[0],h=b[1],E=Object(n.useState)([]),O=Object(m.a)(E,2),y=O[0],j=O[1],A=Object(n.useState)(o),C=Object(m.a)(A,2),R=C[0],I=C[1],G=Object(n.useState)(a),S=Object(m.a)(G,2),D=S[0],T=S[1],M=Object(n.useState)([]),H=Object(m.a)(M,2);H[0],H[1];Object(n.useEffect)((function(){var e=d(Object.keys(a))===-1/0?0:d(Object.keys(a));T(a),h(e+1||0),I(o),j([])}),[a,o]);var W=Object(N.a)("title"),_=Object(L.w)(),U=Object(L.y)({container:{display:"flex",flexFlow:"column nowrap",alignItems:"stretch",width:"65%",maxWidth:"921px"},header:[_.fonts.xLargePlus,{flex:"1 1 auto",borderTop:"4px solid ".concat(_.palette.themePrimary),color:_.palette.neutralPrimary,display:"flex",alignItems:"center",fontWeight:L.c.semibold,padding:"12px 12px 14px 24px"}],body:{flex:"4 4 auto",padding:"0 24px 24px 24px",overflowY:"hidden",selectors:{p:{margin:"14px 0"},"p:first-child":{marginTop:0},"p:last-child":{marginBottom:0}}},footer:{display:"flex",justifyContent:"flex-end",margin:"20px"}}),V={root:{color:_.palette.neutralPrimary,marginLeft:"auto",marginTop:"4px",marginRight:"2px"},rootHovered:{color:_.palette.neutralDark}},q=function(){var e=Object(u.a)(s.a.mark((function e(a){var n,r,o,c,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userId"),r=x(a),o={userId:n,objectName:r,apiId:0,isCRUD:!0,isReadMultiple:!0,isReadAllObjects:!0,isSingleRoute:!0},!((c=t)>=0)){e.next=12;break}return p({id:c,objectName:r,apiId:0,attributes:D}),e.next=8,J.a.post("/updateRouteGroup",{objectId:c,updatedRouteGroup:o});case 8:return e.next=10,J.a.post("/updateMultipleObjectAttributes",{userId:n,deletedAttr:y,objectId:c,attributes:D});case 10:e.next=19;break;case 12:return e.next=14,J.a.post("/addNewRouteGroup",o);case 14:return l=e.sent,u=l.data.objectId,p({id:u,objectName:r,apiId:0,attributes:D}),e.next=19,J.a.post("/updateMultipleObjectAttributes",{userId:n,deletedAttr:y,objectId:u,attributes:D});case 19:i();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(P.a,{titleAriaId:W,isOpen:l,onDismiss:i,isBlocking:!0,containerClassName:U.container,dragOptions:!1},r.a.createElement("div",{className:U.header},r.a.createElement("input",{type:"text",id:"routeGroupName",className:"modalRouteGroupTitle",name:"routeGroupName",onChange:function(e){I(e.target.value)},value:R,placeholder:"Enter Route Group Name"}),r.a.createElement(k.a,{styles:V,iconProps:z,ariaLabel:"Close popup modal",onClick:i})),r.a.createElement("hr",null),r.a.createElement("div",{className:U.body},r.a.createElement("div",{className:"modalAddNewAttributeList"},r.a.createElement(F,{attributeListItemArr:D,onChangeAttribute:function(e,t,a){var n=JSON.parse(JSON.stringify(D));n[e]={name:x(t),type:a},T(n)},addAttributeButtonOnClick:function(){var e=JSON.parse(JSON.stringify(D));e[v]={name:"",type:""},T(e),h(v+1)},deleteAttributeButtonOnClick:function(e){j((function(t){return[].concat(Object(c.a)(t),[e])}));var t=JSON.parse(JSON.stringify(D));delete t[e],T(t)}}))),r.a.createElement("hr",null),r.a.createElement("div",{className:U.footer},r.a.createElement(g.a,{onClick:function(){q(R)},className:"modalAddNewAttributeSaveButton",text:"Save",allowDisabledFocus:!0}),r.a.createElement(B.a,{text:"Close",allowDisabledFocus:!0,onClick:i}))))},_=(a(160),function(e){var t=e.onRouteGroupDelete,a=e.onRouteGroupNameChange,o=e.arrayOfRouteGroups,i=Object(D.a)(!1),c=Object(m.a)(i,2),l=c[0],s=c[1],u=s.setTrue,p=s.setFalse,d=Object(n.useState)({}),f=Object(m.a)(d,2),b=f[0],N=f[1],v=Object(n.useState)(""),h=Object(m.a)(v,2),E=h[0],O=h[1],x=Object(n.useState)(-1),y=Object(m.a)(x,2),j=y[0],A=y[1],w=Object(n.useState)(-1),k=Object(m.a)(w,2),C=k[0],R=k[1],I=o.map((function(e){return r.a.createElement(S,{id:e.id,onRouteGroupDelete:t,setId:A,setRGName:O,data:e.attributes,RGName:e.objectName,setData:N,showModal:u})}));return r.a.createElement("div",{className:"currentRouteGroupsListMainDiv"},r.a.createElement("ul",{className:"currentRouteGroupsListUl"},I),r.a.createElement("div",{className:"currentRouteGroupsPrimaryButtonDiv"},r.a.createElement(g.a,{onClick:function(){O(""),N({}),A(C),R(C-1),u()},className:"currentRouteGroupsPrimaryButton"}," + Route Group"),r.a.createElement(W,{id:j,onRouteGroupNameChange:a,data:b,RGName:E,showModal:u,hideModal:p,isModalOpen:l})))}),U=(a(161),function(e){var t=e.onRouteGroupDelete,a=e.onRouteGroupNameChange,n=e.arrayOfRouteGroups;return r.a.createElement("div",{className:"currentRouteGroupsMainDiv"},r.a.createElement("header",null,r.a.createElement(f.a,{className:"currentRouteGroupsLabel"},"Route Groups")),r.a.createElement("div",null,r.a.createElement(_,{onRouteGroupDelete:t,onRouteGroupNameChange:a,arrayOfRouteGroups:n})))}),V=(a(162),function(e){var t=e.onRouteGroupDelete,a=e.onRouteGroupNameChange,n=e.arrayOfRouteGroups;return r.a.createElement("div",null,r.a.createElement("div",{className:"viewApiRGImageDiv"},r.a.createElement(b.a,{src:"static/react/images/step_2.png",alt:"Step Two",width:"432px",height:"576px"}),r.a.createElement("div",{className:"viewApiRGDiv"},r.a.createElement(U,{onRouteGroupDelete:t,onRouteGroupNameChange:a,arrayOfRouteGroups:n}))))}),q=a(208),Y=(a(163),function(){Object(w.a)("https://static2.sharepointonline.com/files/fabric/assets/icons/");var e=Object(n.useState)("flask"),t=Object(m.a)(e,2),a=t[0],o=t[1];return r.a.createElement("footer",{className:"ViewApiFooter"},r.a.createElement("div",null,r.a.createElement(q.a,{className:"ViewApiFooterChoiceField",defaultSelectedKey:"flask",options:[{key:"flask",text:"Flask",iconProps:{iconName:"PythonLanguage"}},{key:"node",text:"Node",iconProps:{iconName:"JavaScriptLanguage"}}],onChange:function(e,t){o(t.key)}})),r.a.createElement(g.a,{className:"ViewApiFooterPrimaryButton",onClick:function(){!function(e){var t=new XMLHttpRequest;t.open("POST","/generateFullAPI"),t.setRequestHeader("Content-Type","application/json; charset=UTF-8");var a={userId:localStorage.userId,output:e};console.log(a),t.onload=function(){if(t.status>=200&&t.status<400){var e=JSON.parse(t.responseText).api_name+".zip",a=window.location.href,n=a[a.length-1],r=("?"===n||"#"===n?a.substr(0,a.length-1):a)+"get-compress/"+e;window.location.href=r}else alert("API must have routes created before generating!")},t.onerror=function(){},t.send(JSON.stringify(a))}(a)}}," Generate Full API "))}),K=function(e){var t=e.setApiNameOnClick,a=e.setApiName,n=e.onRouteGroupDelete,o=e.onRouteGroupNameChange,i=e.arrayOfRouteGroups,c=e.apiName;return r.a.createElement("div",null,r.a.createElement(C,{setApiNameOnClick:t,setApiName:a,apiName:c}),r.a.createElement(V,{onRouteGroupDelete:n,onRouteGroupNameChange:o,arrayOfRouteGroups:i}),r.a.createElement(Y,null))},Z=(a(34),function(){return r.a.createElement("li",{className:"navbarLiLogoImage"},r.a.createElement("img",{class:"hide-text navbarImg",id:"logo-image",src:"static/react/images/API-Builder-Logo.png",alt:"logo_image"}))}),X=function(){return r.a.createElement("li",{className:"navbarLiLogoText"},r.a.createElement("a",{className:"navbarLogoText",href:"#",id:"logo-text"},"API Builder"))},$=function(){return r.a.createElement("li",{className:"navbarLi",onClick:function(){alert("Blog coming soon!")}},r.a.createElement("a",{className:"navbarA",href:"#",id:"blog-link"},"Blog"))},Q=function(){var e=Object(D.a)(!1),t=Object(m.a)(e,2),a=t[0],n=t[1],o=n.setTrue,i=n.setFalse,c=Object(N.a)("title"),l=Object(L.w)(),s=Object(L.y)({container:{display:"flex",flexFlow:"column nowrap",alignItems:"stretch",width:"50%",maxWidth:"750px"},header:[l.fonts.xLargePlus,{flex:"1 1 auto",borderTop:"4px solid ".concat(l.palette.themePrimary),color:l.palette.neutralPrimary,display:"flex",alignItems:"center",fontWeight:L.c.semibold,padding:"12px 12px 14px 24px"}],body:{flex:"4 4 auto",padding:"0 24px 24px 24px",overflowY:"hidden",selectors:{p:{margin:"14px 0"},"p:first-child":{marginTop:0},"p:last-child":{marginBottom:0}}}}),u={root:{color:l.palette.neutralPrimary,marginLeft:"auto",marginTop:"4px",marginRight:"2px"},rootHovered:{color:l.palette.neutralDark}};return r.a.createElement("div",null,r.a.createElement("li",{className:"navbarLi",onClick:function(){o()}},r.a.createElement("a",{className:"navbarA",href:"#",id:"tutorial-link"},"Tutorial")),r.a.createElement(P.a,{titleAriaId:c,isOpen:a,onDismiss:i,isBlocking:!1,containerClassName:s.container},r.a.createElement("div",{className:s.header},r.a.createElement("span",{id:c},"Tutorial"),r.a.createElement(k.a,{styles:u,iconProps:{iconName:"Cancel"},ariaLabel:"Close popup modal",onClick:i})),r.a.createElement("div",{className:s.body},r.a.createElement("iframe",{id:"tutorialVideo",width:"100%",height:"378px",src:"https://www.youtube.com/embed/Tmj0Exbza30",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}))))},ee=function(){return r.a.createElement("li",{className:"navbarLi",onClick:function(){alert("All APIs Page coming soon!")}},r.a.createElement("a",{className:"navbarA",href:"#",id:"apis-link"},"APIs"))},te=function(){return r.a.createElement("header",{className:"NavbarHeader"},r.a.createElement("ul",{className:"navbarUl"},r.a.createElement("div",{className:"navbarLogoDiv"},r.a.createElement(Z,null),r.a.createElement(X,null)),r.a.createElement("nav",{className:"navbarNav",id:"navlinks"},r.a.createElement($,null),r.a.createElement(Q,null),r.a.createElement(ee,null))))};var ae=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(!0),l=Object(m.a)(i,2),f=l[0],b=l[1],g=Object(n.useState)(""),N=Object(m.a)(g,2),h=N[0],O=N[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:if(e.sent){e.next=5;break}return e.next=5,v();case 5:return e.next=7,J.a.post("/viewAvailableRouteGroups",{userId:localStorage.getItem("userId")});case 7:return t=e.sent,e.next=10,J.a.post("/getAPIName",{userId:localStorage.getItem("userId")});case 10:a=e.sent,O(a.data.api_name),o(t.data.groups),b(!1);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var x,y=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.slice(),r=!1,n.forEach((function(e){e.id===t.id&&(e.objectName=t.objectName,e.attributes=t.attributes,r=!0)})),o(r?n:function(e){return[].concat(Object(c.a)(e),[t])});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.filter((function(e){return e.objectName!==t})),o(n),e.next=4,J.a.post("/getRouteGroup",{userId:localStorage.getItem("userId"),filters:{objectName:t}});case 4:return r=e.sent,i=r.data.id,e.next=8,J.a.post("/deleteRouteGroup",{userId:localStorage.getItem("userId"),objectId:i});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.post("/setAPIName",{userId:localStorage.getItem("userId"),apiName:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return x=f?r.a.createElement("h1",null):""!==h?r.a.createElement(K,{setApiNameOnClick:w,setApiName:O,apiName:h,onRouteGroupDelete:j,onRouteGroupNameChange:y,arrayOfRouteGroups:a}):r.a.createElement(A,{setApiNameOnClick:w,apiName:h,setApiName:O}),r.a.createElement(p.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(te,null),x)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,a){},77:function(e,t,a){}},[[132,1,2]]]);
//# sourceMappingURL=main.68571ffc.chunk.js.map